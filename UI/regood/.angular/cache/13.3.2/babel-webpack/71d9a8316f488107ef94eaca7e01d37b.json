{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Item } from 'src/app/model/item-model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/Item/item.service\";\nimport * as i2 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../directive/appDnD\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = [\"content\"];\n\nfunction NewItemComponent_div_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"h4\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedFile.name, \" \");\n  }\n}\n\nfunction NewItemComponent_ng_template_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"h4\", 29);\n    i0.ɵɵtext(2, \"Response\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"line\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 30)(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r3.response);\n  }\n}\n\nexport let NewItemComponent = /*#__PURE__*/(() => {\n  class NewItemComponent {\n    constructor(itemService, modalService) {\n      this.itemService = itemService;\n      this.modalService = modalService;\n    }\n\n    ngOnInit() {\n      this.initFormGroup();\n    }\n\n    initFormGroup() {\n      this.itemForm = new FormGroup({\n        name: new FormControl(null, [Validators.required]),\n        description: new FormControl(),\n        city: new FormControl(),\n        state: new FormControl(),\n        zipCode: new FormControl()\n      });\n    }\n\n    initItem() {\n      this.itemObj = new Item();\n      this.itemObj.name = this.itemForm.get('name').value;\n      this.itemObj.description = this.itemForm.get('description').value;\n      this.itemObj.category = this.category;\n      this.itemObj.condition = this.condition;\n      this.itemObj.city = this.itemForm.get('city').value;\n      this.itemObj.zipCode = this.itemForm.get('state').value;\n      this.itemObj.state = this.itemForm.get('zipCode').value;\n    }\n\n    onFileChanged(event) {\n      this.selectedFile = event.target.files[0];\n    }\n\n    postItem() {\n      this.initItem();\n      this.itemService.postItem(this.itemObj).subscribe(data => {\n        this.response = \"it worked! ID =\\n \" + data.item_id;\n        this.itemObj.id = data.item_id;\n\n        if (this.selectedFile) {\n          const uploadData = new FormData();\n          uploadData.append('image', this.selectedFile, this.selectedFile.name);\n          this.itemService.uploadImage(uploadData, this.itemObj.id).subscribe(data => this.response = \"it worked! ID =\\n \" + data.item_id, error => this.response = \"Something went wrong! \" + error.name);\n        }\n      }, error => this.response = \"Something went wrong! \" + error.name);\n      this.modalService.open(this.content, {\n        ariaLabelledBy: 'modal-basic-title'\n      });\n    }\n\n    setCondition(condition) {\n      this.condition = condition;\n    }\n\n    setCategory(e) {\n      this.category = e.target.value;\n    }\n\n    onFileDropped(event) {\n      this.selectedFile = event[0];\n    }\n\n    fileBrowseHandler(event) {\n      this.selectedFile = event[0];\n    }\n\n    deleteFile() {\n      this.selectedFile = null;\n    }\n\n  }\n\n  NewItemComponent.ɵfac = function NewItemComponent_Factory(t) {\n    return new (t || NewItemComponent)(i0.ɵɵdirectiveInject(i1.ItemService), i0.ɵɵdirectiveInject(i2.NgbModal));\n  };\n\n  NewItemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NewItemComponent,\n    selectors: [[\"app-new-item\"]],\n    viewQuery: function NewItemComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t.first);\n      }\n    },\n    decls: 78,\n    vars: 2,\n    consts: [[1, \"over-all\"], [1, \"center\"], [\"id\", \"hands\", \"data-name\", \"Layer 1\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 42.47 45.47\", 1, \"icon\"], [\"d\", \"M29,9.53a1.75,1.75,0,0,0,.24-.23c.27-.37.51-.76.8-1.13A3.14,3.14,0,0,1,32.65,7a2.83,2.83,0,0,1,2.68,4c-.34.71-.74,1.4-1.11,2.1l-.71,1.33a3.39,3.39,0,0,1,1,1.06,2.6,2.6,0,0,1,.38,1.45l.21-.2.5-.67a3.4,3.4,0,0,1,4.42-.59,2.78,2.78,0,0,1,.87,3.62c-.37.7-.81,1.36-1.21,2-.08.13-.14.27-.21.4l0,0v0c.12-.1.26-.19.37-.3a3.12,3.12,0,0,1,2.2-1c2.36-.07,3.9,2.17,2.79,4.08a11.21,11.21,0,0,1-.71,1L42.84,27a2.44,2.44,0,0,0-.16.23,10.92,10.92,0,0,1,1.28,0A2.66,2.66,0,0,1,46.46,30a3,3,0,0,1-.82,1.85c-.86.91-1.72,1.83-2.59,2.73-3,3.09-5.92,6.19-9,9.2a12.73,12.73,0,0,1-4,2.8,10.83,10.83,0,0,1-10-.65,9.26,9.26,0,0,1-4.77-7,6.48,6.48,0,0,1-.07-.77c0-.26,0-.51,0-.77-.42-.14-.81-.26-1.18-.4a10.14,10.14,0,0,1-6.37-6,11.53,11.53,0,0,1-.67-3c-.22-2.08-.43-4.16-.68-6.24a17.46,17.46,0,0,0-.77-3.09c-.4-1.26-.82-2.52-1.25-3.77A3.14,3.14,0,0,1,4,13.23a2.32,2.32,0,0,1,3.11-1.75,6,6,0,0,1,1.3.55,11.2,11.2,0,0,1,3.49,3.21c.24.34.43.71.66,1.08.13-.07.14-.2.18-.31,1-2.53,2-5.07,3-7.61q.86-2.16,1.72-4.34a3.13,3.13,0,0,1,2.52-2,3.23,3.23,0,0,1,3.69,2.19c.05.2.08.41.12.66L24,4.71c.18-.34.35-.69.54-1A3.39,3.39,0,0,1,27.77,2a3.05,3.05,0,0,1,2.7,2.19,2.83,2.83,0,0,1-.12,1.86L29,9.53v0ZM17.17,36.81a7.8,7.8,0,0,0,1.06,4.37,8,8,0,0,0,3.57,3.09,8.8,8.8,0,0,0,3.28.85,9.25,9.25,0,0,0,5.36-1.37,11.92,11.92,0,0,0,2.36-1.93q3.42-3.43,6.83-6.89c1.44-1.46,2.85-2.95,4.27-4.44a2.22,2.22,0,0,0,.45-.69c.19-.47-.12-.88-.67-.95a1.34,1.34,0,0,0-1,.33l-2.81,2.3c-1.08.88-2.17,1.74-3.26,2.6a2.17,2.17,0,0,1-.53.31.61.61,0,0,1-.68-.1.55.55,0,0,1-.17-.65,2.44,2.44,0,0,1,.24-.41c.44-.61.87-1.23,1.33-1.83l6-7.85a3,3,0,0,0,.26-.36.8.8,0,0,0-.09-.93,1,1,0,0,0-.95-.34,1.23,1.23,0,0,0-.7.41L35.84,28c-1,1-2,2-3,3a3.88,3.88,0,0,1-.49.4.6.6,0,0,1-.75,0,.46.46,0,0,1-.22-.59,4,4,0,0,1,.39-.8q1.08-1.83,2.19-3.63c1.65-2.71,3.31-5.4,5-8.1a1.76,1.76,0,0,0,.22-.46,1,1,0,0,0-.4-1.06,1.06,1.06,0,0,0-1.14,0,1.77,1.77,0,0,0-.48.42c-.31.38-.59.77-.88,1.16L32.8,23l-4,5.25a6,6,0,0,1-.64.7.58.58,0,0,1-.71.11.56.56,0,0,1-.36-.61,2,2,0,0,1,.15-.45c.28-.61.55-1.22.86-1.83q2.27-4.42,4.55-8.85a2.12,2.12,0,0,0,.14-.31,1,1,0,0,0-.59-1.25,1.17,1.17,0,0,0-1.4.37,1.14,1.14,0,0,0-.15.23l-4.2,6.83c-1.27,2.07-2.53,4.14-3.81,6.21a3.11,3.11,0,0,1-.45.58.72.72,0,0,1-.74.2A.66.66,0,0,1,21,29.6v-.13a11.76,11.76,0,0,0-.31-2.21,7.76,7.76,0,0,0-2.88-4.37,2.45,2.45,0,0,0-.59-.34c-.26-.11-.4-.06-.47.2a1.51,1.51,0,0,0,0,.6c.18,1.28.38,2.56.59,3.84a22.75,22.75,0,0,1,.17,4.95C17.37,33.73,17.27,35.33,17.17,36.81ZM22.48,26l.21-.32,3.19-5.25c1-1.67,2-3.33,3-5a3.13,3.13,0,0,1,2.32-1.56.45.45,0,0,0,.37-.28l1.18-2.18c.22-.42.47-.84.67-1.27a.94.94,0,0,0-1-1.32,1.06,1.06,0,0,0-.81.48c-.36.52-.73,1-1.09,1.57l-4.64,6.63c-.53.75-1.08,1.5-1.63,2.25a3,3,0,0,1-.46.48.62.62,0,0,1-.69.05.47.47,0,0,1-.34-.48,2.21,2.21,0,0,1,.13-.62c.25-.71.52-1.41.8-2.1l2.83-7q.93-2.26,1.84-4.52a1.42,1.42,0,0,0,.12-.86A1.05,1.05,0,0,0,27.08,4a1.24,1.24,0,0,0-.69.53c-.08.13-.15.26-.22.4l-4.51,8.65-2.15,4a4.81,4.81,0,0,1-.45.66.62.62,0,0,1-.72.21.64.64,0,0,1-.47-.59,1.19,1.19,0,0,1,0-.33c.22-.79.41-1.58.66-2.35.76-2.42,1.54-4.84,2.31-7.26.29-.9.59-1.81.86-2.72A1,1,0,0,0,21,3.94a1.19,1.19,0,0,0-1.43.55,4,4,0,0,0-.19.43l-2.11,5.19c-1,2.48-2,5-3,7.43-.31.75-.62,1.49-.94,2.23a1.63,1.63,0,0,1-.33.49A.73.73,0,0,1,11.74,20c0-.1-.05-.2-.08-.3-.17-.6-.33-1.2-.54-1.79a8.39,8.39,0,0,0-3.88-4.44,3.27,3.27,0,0,0-.67-.28c-.31-.1-.46,0-.48.28a1.68,1.68,0,0,0,.07.63c.2.61.43,1.22.63,1.83a38,38,0,0,1,1.3,4.39c.36,1.72.48,3.46.67,5.19.12,1.05.19,2.11.38,3.15a7.89,7.89,0,0,0,3.2,5.06,9.15,9.15,0,0,0,2.87,1.36c0-.28,0-.54.07-.79.06-1.08.11-2.16.19-3.24a13.49,13.49,0,0,0-.06-2.46C15.19,27,15,25.39,14.7,23.8A3.12,3.12,0,0,1,14.84,22a2.33,2.33,0,0,1,2.42-1.38,3.3,3.3,0,0,1,1.67.68,10,10,0,0,1,3.43,4.4A2.58,2.58,0,0,0,22.48,26Z\", \"transform\", \"translate(-4 -2)\", 1, \"cls-1\"], [3, \"formGroup\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"string\", \"id\", \"name\", \"aria-describedby\", \"string\", \"placeholder\", \"\", \"formControlName\", \"name\", 1, \"form-control\"], [\"for\", \"description\"], [\"id\", \"description\", \"aria-describedby\", \"string\", \"srows\", \"3\", \"formControlName\", \"description\", 1, \"form-control\"], [\"for\", \"city\"], [1, \"row\"], [1, \"col\"], [\"type\", \"string\", \"id\", \"city\", \"aria-describedby\", \"string\", \"placeholder\", \"City\", \"formControlName\", \"city\", 1, \"form-control\"], [\"type\", \"string\", \"id\", \"state\", \"aria-describedby\", \"string\", \"placeholder\", \"State\", \"formControlName\", \"state\", 1, \"form-control\"], [\"type\", \"string\", \"id\", \"zipCode\", \"aria-describedby\", \"string\", \"placeholder\", \"Zip Code\", \"formControlName\", \"zipCode\", 1, \"form-control\"], [\"for\", \"category\"], [\"id\", \"category\", 1, \"form-control\", 3, \"change\"], [\"type\", \"submit\", 1, \"btn\", \"btn-default\", \"btn-condition\", 3, \"click\"], [\"appDnd\", \"\", 1, \"container\", 3, \"fileDropped\"], [\"type\", \"file\", \"id\", \"fileDropRef\", \"multiple\", \"\", 3, \"change\"], [\"fileDropRef\", \"\"], [\"for\", \"fileDropRef\", 1, \"button-label\"], [\"class\", \"files-list\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"center\", \"post-button\", \"btn-lg\", 3, \"click\"], [\"content\", \"\"], [1, \"files-list\"], [1, \"name\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [1, \"modal-body\"]],\n    template: function NewItemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(2, \"svg\", 2)(3, \"defs\")(4, \"style\");\n        i0.ɵɵtext(5, \" .cls-1 { fill: #7cbb42; } \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(6, \"path\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(7, \"h1\");\n        i0.ɵɵtext(8, \"Make a Post\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"p\");\n        i0.ɵɵtext(10, \"What would you like to donate?\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(11, \"br\");\n        i0.ɵɵelementStart(12, \"form\", 4)(13, \"div\", 5)(14, \"label\", 6);\n        i0.ɵɵtext(15, \"Post Title\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 5)(18, \"label\", 8);\n        i0.ɵɵtext(19, \"Post Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"textarea\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 5)(22, \"label\", 10);\n        i0.ɵɵtext(23, \"Location\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 11)(25, \"div\", 12);\n        i0.ɵɵelement(26, \"input\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 12);\n        i0.ɵɵelement(28, \"input\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 12);\n        i0.ɵɵelement(30, \"input\", 15);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(31, \"div\", 5)(32, \"label\", 16);\n        i0.ɵɵtext(33, \"Category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"select\", 17);\n        i0.ɵɵlistener(\"change\", function NewItemComponent_Template_select_change_34_listener($event) {\n          return ctx.setCategory($event);\n        });\n        i0.ɵɵelementStart(35, \"option\");\n        i0.ɵɵtext(36, \"Appliances\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"option\");\n        i0.ɵɵtext(38, \"Clothing\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"option\");\n        i0.ɵɵtext(40, \"Furniture\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"option\");\n        i0.ɵɵtext(42, \"Office Supplies\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"option\");\n        i0.ɵɵtext(44, \"Technology\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"option\");\n        i0.ɵɵtext(46, \"Toys\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"option\");\n        i0.ɵɵtext(48, \"Digital File\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"option\");\n        i0.ɵɵtext(50, \"Other\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(51, \"div\", 5)(52, \"label\", 16);\n        i0.ɵɵtext(53, \"Condition\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"div\")(55, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function NewItemComponent_Template_button_click_55_listener() {\n          return ctx.setCondition(\"poor\");\n        });\n        i0.ɵɵtext(56, \"Poor\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function NewItemComponent_Template_button_click_57_listener() {\n          return ctx.setCondition(\"some-wear\");\n        });\n        i0.ɵɵtext(58, \"Some wear\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(59, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function NewItemComponent_Template_button_click_59_listener() {\n          return ctx.setCondition(\"good\");\n        });\n        i0.ɵɵtext(60, \"Good\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(61, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function NewItemComponent_Template_button_click_61_listener() {\n          return ctx.setCondition(\"like-new\");\n        });\n        i0.ɵɵtext(62, \"Like New\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(63, \"div\", 19);\n        i0.ɵɵlistener(\"fileDropped\", function NewItemComponent_Template_div_fileDropped_63_listener($event) {\n          return ctx.onFileDropped($event);\n        });\n        i0.ɵɵelementStart(64, \"input\", 20, 21);\n        i0.ɵɵlistener(\"change\", function NewItemComponent_Template_input_change_64_listener($event) {\n          return ctx.fileBrowseHandler($event.target.files);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"h3\");\n        i0.ɵɵtext(67, \"Drag and drop your file here\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"h3\");\n        i0.ɵɵtext(69, \"or\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"label\", 22);\n        i0.ɵɵtext(71, \"Browse for a file\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(72, NewItemComponent_div_72_Template, 3, 1, \"div\", 23);\n        i0.ɵɵelementStart(73, \"div\", 1)(74, \"button\", 24);\n        i0.ɵɵlistener(\"click\", function NewItemComponent_Template_button_click_74_listener() {\n          return ctx.postItem();\n        });\n        i0.ɵɵtext(75, \"Post\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(76, NewItemComponent_ng_template_76_Template, 7, 1, \"ng-template\", null, 25, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"formGroup\", ctx.itemForm);\n        i0.ɵɵadvance(60);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedFile);\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i4.DndDirective, i5.NgIf],\n    styles: [\".over-all[_ngcontent-%COMP%]{margin:auto;max-width:34rem}.btn-condition[_ngcontent-%COMP%]{border:1px #00000045 solid;border-radius:0;margin:6px}.btn-condition[_ngcontent-%COMP%]:focus, .btn-condition[_ngcontent-%COMP%]:hover, .btn-condition[_ngcontent-%COMP%]:active{background-color:#007bff;color:#fff}.container[_ngcontent-%COMP%]{width:450px;height:200px;padding:2rem;text-align:center;border:solid 1px #97979769;position:relative;margin:0 auto}.button-label[_ngcontent-%COMP%]{color:#fff;width:183px;height:44px;border-radius:10px;background-color:#007bff;padding:8px 16px;cursor:pointer}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#38424c}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;width:100%;height:100%;top:0;left:0;cursor:pointer}.post-button[_ngcontent-%COMP%]{margin-top:3rem}.center[_ngcontent-%COMP%]{text-align:center}.fileover[_ngcontent-%COMP%]{animation:shake 1s;animation-iteration-count:infinite}.files-list[_ngcontent-%COMP%]{margin-top:1.5rem;width:-moz-fit-content;width:fit-content;position:relative;margin:auto;padding:.5rem;align-items:center;border-bottom:solid 1px #97979769;border-left:solid 1px #97979769;border-right:solid 1px #97979769}.name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#353f4a;margin:0}.icon[_ngcontent-%COMP%]{width:4rem}\"]\n  });\n  return NewItemComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}